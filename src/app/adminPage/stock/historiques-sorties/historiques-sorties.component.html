<!-- ===================== -->
<!-- üîç FILTRES -->
<!-- ===================== -->
<div class="mt-6">

  <h2 class="text-lg font-semibold mb-6 text-center text-gray-500">
    Filtrer par agence et / ou par mois
  </h2>

  <!-- Filtres align√©s horizontalement -->
  <div class="flex flex-row justify-center gap-6">

    <!-- Recherche agence -->
    <div class="relative w-1/3 max-w-md">
      <input
        type="text"
        [(ngModel)]="searchText"
        placeholder="Rechercher une agence..."
        class="w-full pl-10 pr-4 py-3
               border border-gray-300 rounded-lg shadow-sm
               focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <svg
        class="absolute left-3 top-1/2 -translate-y-1/2
               h-5 w-5 text-gray-400 pointer-events-none"
        xmlns="http://www.w3.org/2000/svg" fill="none"
        viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round"
              d="M21 21l-4.35-4.35M17 10a7 7 0 11-14 0 7 7 0 0114 0z" />
      </svg>
    </div>

    <!-- Recherche mois -->
    <div class="relative w-1/3 max-w-md">
      <input
        type="text"
        [(ngModel)]="searchText2"
        placeholder="Rechercher un mois..."
        class="w-full pl-10 pr-4 py-3
               border border-gray-300 rounded-lg shadow-sm
               focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <svg
        class="absolute left-3 top-1/2 -translate-y-1/2
               h-5 w-5 text-gray-400 pointer-events-none"
        xmlns="http://www.w3.org/2000/svg" fill="none"
        viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round"
              d="M21 21l-4.35-4.35M17 10a7 7 0 11-14 0 7 7 0 0114 0z" />
      </svg>
    </div>

  </div>
</div>

<!-- ===================== -->
<!-- üìä TABLEAU HISTORIQUE -->
<!-- ===================== -->
<div class="mt-10">

  <h2 class="text-lg font-semibold mb-4 text-center text-gray-500">
    Historique des sorties
  </h2>

  <!-- Wrapper n√©cessaire pour les √©crans tablette -->
  <div class="overflow-x-auto">

    <table class="w-full min-w-[1100px]
                   bg-white rounded-lg shadow">

      <thead class="bg-gray-100">
        <tr>
          <th class="p-4 text-left">Code Produit</th>
          <th class="p-4 text-left">Nom produit</th>
          <th class="p-4 text-left">Quantit√©</th>
          <th class="p-4 text-left">Destination</th>
          <th class="p-4 text-left">Motif de sortie</th>
          <th class="p-4 text-left">Responsable</th>
          <th class="p-4 text-left">Mois</th>
          <th class="p-4 text-left">Date de sortie</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let s of filteredSortiesByMonth"
            class="border-b hover:bg-gray-50">

          <td class="p-4 whitespace-nowrap">{{ s.codeProduit }}</td>
          <td class="p-4 whitespace-nowrap">{{ s.nomProduit }}</td>
          <td class="p-4 text-center">{{ s.quantite }}</td>
          <td class="p-4">{{ s.destination }}</td>
          <td class="p-4">{{ s.motifSortieStock }}</td>
          <td class="p-4">{{ s.responsable }}</td>
          <td class="p-4">
            {{ s.dateMouvement ? (s.dateMouvement | date:'MMMM') : '-' }}
          </td>
          <td class="p-4 whitespace-nowrap">
            {{ s.dateMouvement ? (s.dateMouvement | date:'dd/MM/yyyy') : '-' }}
          </td>

        </tr>
      </tbody>
    </table>

  </div>
</div>
