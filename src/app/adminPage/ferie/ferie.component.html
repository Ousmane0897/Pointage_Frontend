<div class="p-6 space-y-6">

    <!-- üîç Recherche -->
    <div class="relative w-full max-w-md">
        <input type="text" [(ngModel)]="searchText" placeholder="Recherche..." class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg shadow-sm
             focus:outline-none focus:ring-2 focus:ring-blue-500" />
        <svg class="absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400 pointer-events-none"
            xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round"
                d="M21 21l-4.35-4.35M17 10a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
    </div>

    <!-- ‚ûï Action -->
    <div class="flex justify-start">
        <button (click)="openAddModal()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg shadow">
            ‚ûï Ajouter un jour f√©ri√©
        </button>
    </div>

    <!-- üìã Tableau -->
    <div class="overflow-x-auto">
        <table class="min-w-[600px] w-full border border-gray-300 rounded-lg overflow-hidden text-sm">
            <thead class="bg-gray-100">
                <tr class="text-left">
                    <th class="p-3">Date</th>
                    <th class="p-3">Nom</th>
                    <th class="p-3 text-center">Actions</th>
                </tr>
            </thead>

            <tbody>
                <tr *ngFor="let ferie of feries" class="border-t hover:bg-gray-50">
                    <td class="p-3">{{ ferie.date }}</td>
                    <td class="p-3">{{ ferie.nom }}</td>

                    <td class="p-3 flex justify-center gap-2">
                        <!-- Edit -->
                        <button (click)="openEditModal(ferie)" class="bg-blue-500 hover:bg-blue-600 text-white rounded-full p-2 shadow
                     transition-transform hover:scale-110" title="Modifier">
                            ‚úèÔ∏è
                        </button>

                        <!-- Delete -->
                        <button (click)="deleteRow(ferie.date)" class="bg-red-500 hover:bg-red-600 text-white rounded-full p-2 shadow
                     transition-transform hover:scale-110" title="Supprimer">
                            üóëÔ∏è
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- ü™ü MODAL AJOUT / MODIFICATION -->
<div *ngIf="showModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">

    <div class="bg-white p-6 rounded-xl w-full max-w-md shadow-lg">
        <h2 class="text-xl font-semibold mb-4">
            {{ isEditMode ? 'Modifier' : 'Ajouter' }} un jour f√©ri√©
        </h2>

        <form (ngSubmit)="saveModal(form)" #form="ngForm" novalidate class="space-y-4">

            <!-- Date -->
            <div>
                <label class="block text-sm font-medium text-gray-600 mb-1">
                    Date du jour f√©ri√©
                </label>
                <input type="date" class="w-full p-2 border rounded-lg" name="date" #date="ngModel"
                    [(ngModel)]="modalData.date" required />
                <p *ngIf="date.invalid && date.touched" class="text-red-500 text-sm">
                    La date est requise.
                </p>
            </div>

            <!-- Nom -->
            <div>
                <label class="block text-sm font-medium text-gray-600 mb-1">
                    Nom du jour f√©ri√©
                </label>
                <input type="text" class="w-full p-2 border rounded-lg" name="nom" #nom="ngModel"
                    [(ngModel)]="modalData.nom" placeholder="Ex : F√™te de l‚Äôind√©pendance" required />
                <p *ngIf="nom.invalid && nom.touched" class="text-red-500 text-sm">
                    Le nom est requis.
                </p>
            </div>

            <!-- Actions -->
            <div class="flex justify-end gap-2 pt-2">
                <button type="button" (click)="closeModal()" class="px-4 py-2 bg-gray-400 text-white rounded-lg">
                    Annuler
                </button>
                <button type="submit" [disabled]="form.invalid"
                    class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg">
                    {{ isEditMode ? 'Mettre √† jour' : 'Ajouter' }}
                </button>
            </div>
        </form>
    </div>
</div>

<!-- ‚úÖ TOAST -->
<div *ngIf="toastMessage" class="fixed bottom-5 right-5 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg z-50">
    {{ toastMessage }}
</div>