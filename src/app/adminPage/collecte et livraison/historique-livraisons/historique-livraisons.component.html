<!--<div class="p-6 bg-white rounded-lg shadow">
  <h2 class="text-xl font-semibold mb-4">üì¶ Suivi des commandes de {{ moisNomComplet }}</h2>

  <div *ngIf="loading" class="text-gray-500">Chargement...</div>

  <div *ngIf="!loading && demandes.length === 0" class="text-gray-500 text-xl justify-center items-center">Aucune
    commande de produits pour le moment.</div>


  <table class="w-full text-sm">
    <thead class="bg-gray-100">
      <tr>
        <th class="p-2">Destination</th>
        <th class="p-2">Superviseur</th>
        <th class="p-2">Date</th>
        <th class="p-2">Statut</th>
        <th class="p-2">Date de livraison</th>
        <th class="p-2">Heure de livraison</th>
        <th *ngIf="role == 'SUPERADMIN'" class="p-2"> Qui a modifi√© ?</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let d of demandes">
        <tr class="hover:bg-gray-50">

          <td class="p-2 text-center">{{ d.destination }}</td>
          <td class="p-2 text-center">{{ d.responsable }}</td>
          <td class="p-2 text-center">{{ d.dateDemande }}</td>
          <td class="p-2 text-center px-4 py-2 rounded-lg bg-green-100 text-green-800">
              {{ d.statut }}
          </td>
          <td class="p-2 text-center">{{ d.dateLivraison || 'Indisponible' }}</td>
          <td class="p-2 text-center">{{ d.heureLivraison || 'Indisponible' }}</td>
          <td class="p-2 text-center">
            <button [disabled]="role === 'SUPERVISEUR'" class="text-blue-600" [disabled]="d.statut !== 'EN_ATTENTE'" (click)="ouvrirEdition(d)">
              √âditer
            </button>
            <span class="mx-2">|</span>

            <button class="text-green-600" [disabled]="d.statut !== 'EN_COURS' &&  role === 'SUPERVISEUR' || role === 'EXPLOITATION' || role === 'BACKOFFICE' || role === 'SUPERADMIN'" (click)="marquerLivree(d)">
              Marquer comme livr√©e
            </button>
          </td>

          <td *ngIf="role === 'SUPERADMIN'" class="p-2 text-center">
            <button class="p-2 text-red-600" (click)="afficherHistorique(d)">
              Voir les modifications
            </button>
          </td>

        </tr>
      </ng-container>


    </tbody>
  </table>
</div>


<div *ngIf="showHistoryModal" class="fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg p-6 w-full max-w-2xl shadow-lg">
    <h3 class="text-lg font-semibold mb-4">Historique des modifications</h3>

    <div *ngIf="modificationHistory.length > 0; else noHistory">
      <ul class="list-disc list-inside space-y-2">
        <li *ngFor="let entry of modificationHistory">{{ "D√©tails de la modification : " + entry }}</li>
      </ul>
    </div>
    <ng-template #noHistory>
      <p>Aucune modification enregistr√©e.</p>
    </ng-template>

    <div class="mt-4 flex justify-end">
      <button type="button" class="px-4 py-2 bg-gray-200 rounded" (click)="showHistoryModal = false">Fermer</button>
    </div>
  </div>
</div> -->